use std::future::*;
// use std::cols::hashtable::new_hash_table;

pub fn main() i64 {
    let delay1 = delay(3 as u64) as Future<()>;
    let exec = new_executor();
    let future1 = delay1.continue_with(|_a:()|=>{
        println!(111);
        return nothing_future();
    }).continue_with(|_a:()|=>{
        println!(222);
        return nothing_future();
    }).continue_with(|_a:()|=>{
        println!(333);
        return nothing_future();
    });
    let delay2 = delay(3 as u64) as Future<()>;
    let future2 = delay2.continue_with(|_a:()|=>{
        println!(444);
        return nothing_future();
    }).continue_with(|_a:()|=>{
        println!(555);
        return nothing_future();
    }).continue_with(|_a:()|=>{
        println!(666);
        return nothing_future();
    });
    exec.spawn(future1);
    exec.spawn(future2);
    exec.start_exec_loop();
    return 0;
}

